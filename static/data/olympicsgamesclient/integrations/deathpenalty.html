<!DOCTYPE html>
<html>
<head>
	<title>Death penalty in olympics games cities</title>

<script   src="https://code.jquery.com/jquery-1.12.4.min.js"></script>


 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">

  
 <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>


<!-- own libraries -->
<script  src="/js/addCountry.js"></script>
<script  src="/js/getDataAjax.js"></script>



<!-- highchart libraries -->

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>




<script type="text/javascript">
	
$(document).ready(function () {

	var res; 


		//take own data
		dataown = $.getDataAjax("GET","/api/v1/olympicsgames?apikey=multiPlan_C2_sos-2016-06-jern_ag");

		$.addCountryArray(dataown);

		//take group12 data
		data12 = $.getDataAjax("GET","/api/v1/death_penalty_stats?apikey=multiPlan_C4_sos-2016-12-arr_ag");
		//PROXY

		//create 
		var data= []

		for (var own in dataown){
			var z =0;
			
			
			for (var ext in data12){



				//if country, z take value
				if(dataown[own].country.toUpperCase() == data12[ext].country.toUpperCase() ){

					//console.log(data12[ext].murder_rate_per_100k_people +" " +dataown[own].country.toUpperCase())

					z = data12[ext].murder_rate_per_100k_people

				}


				
				
			}
			//create each item

			item = { x: dataown[own].athletes,
        						y: dataown[own].sportsnumber,
        						z: z,
        						name: dataown[own].country.substring(0, 2),
        						country:dataown[own].country

        					}
    		data.push(item)


		}





 $('#container').highcharts({

        chart: {
            type: 'bubble',
            plotBorderWidth: 1,
            zoomType: 'xy'
        },

        legend: {
            enabled: false
        },

        title: {
            text: 'Death penalty in olympicsgames cities'
        },

        subtitle: {
            text: 'Integrations '
        },

        xAxis: {
            gridLineWidth: 1,
            title: {
                text: 'Athletes'
            },
            labels: {
                format: '{value} Athletes'
            },
            plotLines: [{
                color: 'black',
                dashStyle: 'dot',
                width: 3,
                value: 0,
                label: {
                    rotation: 2,
                    y: 15,
                    style: {
                        fontStyle: 'italic'
                    },
	                },
                zIndex: 3
            }]
        },

        yAxis: {
            startOnTick: false,
            endOnTick: false,
            title: {
                text: 'Sports number'
            },
            labels: {
                format: '{value} Sports number'
            },
            maxPadding: 0.2,
            plotLines: [{
                color: 'black',
                dashStyle: 'dot',
                width: 2,
                value: 50,
                label: {
                    align: 'right',
                    style: {
                        fontStyle: 'italic'
                    },
                    x: -10
                },
                zIndex: 3
            }]
        },

        tooltip: {
            useHTML: true,
            headerFormat: '<table>',
            pointFormat: '<tr><th colspan="2"><h3>{point.country}</h3></th></tr>' +
                '<tr><th>Number athletes:</th><td>{point.x} Athletes</td></tr>' +
                '<tr><th>Sports number:</th><td>{point.y} </td></tr>' +
                '<tr><th>Murder rate:</th><td>{point.z} </td></tr>',
            footerFormat: '</table>',
            followPointer: true
        },

        plotOptions: {
            series: {
                dataLabels: {
                    enabled: true,
                    format: '{point.name}'
                }
            }
        },

        series: [{
            data:data
        }]

    });






} );





</script>


</head>
<body>
<nav class="red darken-2" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="/" class="brand-logo">sos-2016-06</a>
      <ul class="right hide-on-med-and-down">
        <li><a href="/about">About us</a></li>
      </ul>

      
    </div>
  </nav>
  <div class="section no-pad-bot" id="index-banner">
    <div class="container">
      <br><br>

      <h1 class="header center red-text">Participant in olympics game (group 12)</h1>
      <div class="row center">
        <a href="/olympicsgames/" id="download-button" class="btn-large waves-effect waves-light red">Back to Home</a>
        <a href="/olympicsgames/integrations/participant.html" id="download-button" class="btn-large waves-effect waves-light red">Participants</a>
        <a href="/olympicsgames/integrations/worldbank.html" id="download-button" class="btn-large waves-effect waves-light red">Access to electricity </a>
        <a href="/olympicsgames/integrations/weather.html" id="download-button" class="btn-large waves-effect waves-light red">Weather </a>
      </div>
      <br><br>

    </div>
  </div>


  <div class="container">
    <div class="section">

      <!--   CHART   -->
<a href="http://portal.governify.io/app/#/portal?configurl=http:~2F~2Flabs.isa.us.es~2Fir~2Fhammertime997~2FGovernify-API~2FPlans~2Fportal-config.json" id="download-button" class="btn-large waves-effect waves-light red">Plans </a> sos-2016-12-arr
      

<div id="container" style="min-width: 310px; height: 400px; max-width: 800px; margin: 0 auto"></div>

       
      </div>

    </div>
    <br><br>

    <div class="section">

    </div>
  </div>

  <footer class="page-footer grey lighten-1">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">Bio</h5>
          <p class="grey-text text-lighten-4">
            This is views about my educational API. 
          </p>


        </div>

        <div class="col l3 s12">
          
        </div>

        
        <div class="col l3 s12">
          <h5 class="white-text">Connect</h5>
          <ul>
            <li><a class="white-text" href="https://twitter.com/quiqueruizna">Twitter</a></li>
            
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
      Made by <a class="black-text text-lighten-3" href="http://systerminal.com">Jose Enrique Ruiz Navarro</a>
      </div>
    </div>
  </footer>




  </body>
</html>