<!DOCTYPE html>
<html>
<head>
	<title>Participants</title>



<script   src="https://code.jquery.com/jquery-1.12.4.min.js"   integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="   crossorigin="anonymous"></script>

<!-- own libraries -->
<script  src="/js/addCountry.js"></script>
<script  src="/js/getDataAjax.js"></script>



<!-- morris libraries -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>





<script type="text/javascript">
	
$(document).ready(function () {

	var res; 


		//take own data
		dataown = $.getDataAjax("GET","/api/v1/olympicsgames?apikey=multiPlan_C2_sos-2016-06-jern_ag");

		$.addCountryArray(dataown);

		//take group05 data
		data05 = $.getDataAjax("GET","//sos-2016-05.herokuapp.com/api/v1/participants-number?apikey=multiPlan_C4_sos-2016-05-egf_ag");


		//create 
		var data= []

		for (var own in dataown){
			var male =0;
			var female =0;
			
			for (var ext in data05){

				//if match, then has value silver and gold
				if(dataown[own].country == data05[ext].country  && dataown[own].year == data05[ext].year){

					male= parseInt(data05[ext].maleathletesnumber)
					female = parseInt(data05[ext].femaleathletesnumber)
				}


				
				
			}

			//create each item

			item = { y: dataown[own].city+dataown[own].year.toString().slice(-2),//the two last yeaar number
        						a: dataown[own].athletes,
        						b: male,
        						c: female}
    		data.push(item)


		}




		 Morris.Bar({
         element: 'morris',
         data: data,
         xkey: 'y',
         ykeys: ['a', 'b','c'],
         labels: ['Athletes', 'male', 'female']
      	});












} );





</script>


</head>
<body>




<div id="morris" style="height: 250px;"></div>
</body>
</html>